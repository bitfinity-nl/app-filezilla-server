---
# Title: app-filezilla-server
#
# Author: Bitfinity-NL
# File: defaults/main.yml
#
# Description:
#   Template for building Ansible Windows applications
#
# Howto for private repository:
#   This role is designed for a controlled environment (e.g. RDS / VDI) with an own (internal)webserver for hosting packages.  
#
#   1. Add variable {{ def_ans_repo }} to your group_vars or change it in your playbook or role.
#   2. Zip all files in 1 file.
#   3. Upload the file to the web/download server.
#   4. Edit defaults/main.yml to your needs.
#   5. Add the role to your playbook.


# -- Repository --
#
# Variabl(s):
#   pkg_repository_type     : 'public'                                              # Set repository type to 'public' or 'private' (public is direct from source, private more granular always zip).
#   pkg_repository_public   : 'https://www.7-zip.org/a/7z1900.exe'                  # Direct url to executable.
#   pkg_repository_private  : 'http://dl.example.com/resource/7zip/7z1805-x64.zip'  # Remote url to package (needs to be zip file).
#
pkg_repository_type    : 'private'
pkg_repository_public  : ''
pkg_repository_private : 'http://{{ def_ans_rep }}/resources/packages/filezilla/FileZilla_Server-0_9_60_2.zip'


# -- Applications settings --
#
# Variable(s)
#   pkg_state        : 'present' or 'absent'                                 # Whether the application should be installed or removed (present=install, absent=removed).
#   pkg_name         : '7zip1805-x64'                                        # Name of the application.
#   pkg_arch         : '32bit' or '64bit'                                    # Whether the application is a 32bit or a 64bit application.
#   pkg_repo_local   : 'c:\ProgramData\ansible\cached\{{ pkg_name }}'        # Local path to package (Do not change).
#   pkg_product_id   : '{23170F69-40C1-2702-1805-000001000000}'              # Product can be found in "HKLM:\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall" or "HKLM:\SOFTWARE\Wow6432Node\M$
#   pkg_installer    : '{{ pkg_repo_local }}\7z1805-x64.msi'                 # Executable for the installation.
#   pkg_arguments    : '/qn'                                                 # Additional Arguments for a silent installation.
#
pkg_state        : 'present'
pkg_name         : 'filezilla-server'
pkg_arch         : '32bit'
pkg_repo_local   : 'c:\ProgramData\ansible\cached\{{ pkg_name }}'
pkg_product_id   : 'FileZilla Server'
pkg_installer    : '{{ pkg_repo_local }}\FileZilla_Server-0_9_60_2\FileZilla_Server-0_9_60_2.exe'
pkg_arguments    : '/S /user=all'
pkg_uninstaller  : 'C:\Program Files (x86)\FileZilla Server\uninstall.exe'
pkg_unarguments  : '/S'


# -- Application specific settings:
#
# Variable(s):
#   pkg_remove_public_desktop_icon    : 'false' or 'true'  # Remove icon from public desktop (All users). 
#   pkg_remove_public_start_menu_icon : 'false' or 'true'  # Remove icon from public start menu (All users). 
#
# Comment:
#   Shortcuts cannot not be restored if removed! 
#
#   Chang
pkg_icon_name                     : 'FileZilla Server Interface.lnk'
pkg_remove_public_desktop_icon    : 'false'
pkg_remove_public_start_menu_icon : 'false'


# -- Filezilla server specific settings:
#
# Variable(s):
#   ftp_user                 : 'ftp_user'     # Set the first FTP user account.
#   ftp_pass                 : 'ftp_pass'     # Set the first FTP user password.
#   ftp_path                 : 'c:\ftp\'      # Set the path where the files will be stored.
#   ftp_ip_filter_allowed    : '127.0.0.1'    # Set the allowed IP filter.
#   ftp_ip_filter_disallowed : '*'            # Set the disallowed filter.
#
ftp_user                 : 'ftp_user'
ftp_pass                 : 'ftp_pass'
ftp_path                 : 'c:\ftp\'
ftp_ip_filter_allowed    : '127.0.0.1'
ftp_ip_filter_disallowed : '*'


